# Edwith Android Developer 

## 6.ë°”ë¡œê°€ê¸° ë©”ë‰´ ë§Œë“¤ê¸°

PlayìŠ¤í† ì–´ì— ì˜¬ë¼ê°€ ìˆëŠ” ì•±ë“¤ì„ ë³´ë©´ ìœ„ìª½ì— ìˆëŠ” íƒ€ì´í‹€ì˜ ì™¼ìª½ì— í–„ë²„ê±° ëª¨ì–‘ì˜ ì•„ì´ì½˜ì´ ìˆëŠ” ê²½ìš°ê°€ ìˆë‹¤.

ê·¸ë¦¬ê³  ê·¸ ì•„ì´ì½˜ì„ ëˆ„ë¥´ë©´ ì™¼ìª½ì´ë‚˜ ì˜¤ë¥¸ìª½ì—ì„œ ìŠ¤ìœ½ í™”ë©´ì´ ë‚˜íƒ€ë‚œë‹¤.

ì´ í™”ë©´ì„ ë°”ë¡œê°€ê¸° ë©”ë‰´ í™”ë©´ì´ë¼ê³  ë¶€ë¥¼ ìˆ˜ ìˆë‹¤.

ì•ˆë“œë¡œì´ë“œì—ì„œëŠ” NavigationDrawerë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ì œê³µí•˜ê³  ìˆë‹¤.

ë°”ë¡œê°€ê¸° ë©”ë‰´ë„ í”„ë˜ê·¸ë¨¼íŠ¸ë¡œ êµ¬ì„±ë˜ê¸° ë•Œë¬¸ì— í”„ë˜ê·¸ë¨¼íŠ¸ì— ëŒ€í•´ ì˜ ì´í•´í•˜ê³  ìˆìœ¼ë©´ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

ë°”ë¡œê°€ê¸° ë©”ë‰´ë¥¼ ì–´ë–»ê²Œ ë§Œë“œëŠ”ì§€ ì‹¤ìŠµì„ í†µí•´ ì•Œì•„ë³´ë„ë¡ í•œë‹¤.

_______

ë‚´ë¹„ê²Œì´ì…˜ ë“œë¡œì–´ê°€ í¬í•¨ëœ í”„ë¡œì íŠ¸ í•˜ë‚˜ ìƒì„±í•´ì£¼ê¸°.

MainActivity.javaë¥¼ ê°€ ë³´ë©´ ì²˜ìŒ ë³´ëŠ” ì½”ë“œë“¤ì´ ì´ë¯¸ ì…ë ¥ì´ ë˜ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

res -> layout -> 4ê°œì˜ íŒŒì¼ ìƒì„±....

**activity_main.xml** ë¡œ ê°€ì„œ ë¨¼ì € ì½”ë“œë¥¼ ì‚´í´ë³´ì.

DrawerLayoutì€ ë‹¤ë¥¸ ë ˆì´ì•„ì›ƒì´ë‚˜ ë·°ë“¤ì„ ë‹´ì„ ìˆ˜ ìˆëŠ” ë ˆì´ì•„ì›ƒ ì¤‘ í•˜ë‚˜.

ë‚´ë¹„ê²Œì´ì…˜ ë“œë¡œì–´ë¼ê³  í•˜ëŠ” ê±°ëŠ” DrawerLayout ì•ˆì— ë“¤ì–´ê°€ë„ë¡ êµ¬ì„±ì„ í•œë‹¤.

ë‚´ë¹„ê²Œì´ì…˜ ë“œë¡œì–´ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ DrawerLayoutì˜ fitsSystemWindowsì™€ openDrawerì´ë¼ëŠ” ì†ì„±ì´ ì‚¬ìš©ëœë‹¤.

```
<include
    layout="@layout/app_bar_main"
    android:layout_width="match_parent"
    android:layout_height="match_parent" />
```

includeëŠ” ë‹¤ë¥¸ xml ë ˆì´ì•„ì›ƒì„ í¬í•¨ì‹œí‚¤ëŠ” ì—­í• ì„ í•œë‹¤.

ìœ„ì˜ ì½”ë“œë¥¼ ë³´ë©´ widthì™€ heightê°€ ëª¨ë‘ match_parentì´ë¯€ë¡œ,

í™”ë©´ ì „ì²´ë¥¼ ê½‰ ì±„ìš´ ìƒíƒœì—ì„œ app_bar_mainì´ë¼ëŠ” xml ë ˆì´ì•„ì›ƒì„ ë„£ì–´ì£¼ë¼ëŠ” ì˜ë¯¸ì´ë‹¤.

```
<android.support.design.widget.NavigationView
    android:id="@+id/nav_view"
    android:layout_width="wrap_content"
    android:layout_height="match_parent"
    android:layout_gravity="start"
    android:fitsSystemWindows="true"
    app:headerLayout="@layout/nav_header_main"
    app:menu="@menu/activity_main_drawer" />
```

ë°”ë¡œê°€ê¸° ë©”ë‰´ì˜ í™”ë©´ ë ˆì´ì•„ì›ƒê³¼ ê¸°ëŠ¥ì„ ë‹´ë‹¹.

ë˜í•œ NavigationViewëŠ” í–„ë²„ê±° ëª¨ì–‘ì„ ëˆ„ë¥´ë©´ ë‚˜ì˜¤ê³  ì‚¬ë¼ì§„ë‹¤. 

ì¦‰ í•„ìš”í•  ë•Œì—ë§Œ ë³´ì´ëŠ” ê²ƒ.

**app_bar_main.xml**

ìµœìƒìœ„ ë ˆì´ì•„ì›ƒì´ CoordinatorLayoutìœ¼ë¡œ ìš°ë¦¬ê°€ ì¼ë°˜ì ìœ¼ë¡œ í™”ë©´ ë°°ì¹˜ë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ëŠ” ì¡°ê¸ˆ ë‹¤ë¥´ë‹¤.

ì•ˆì— ë“¤ì–´ê°€ ìˆëŠ” ë·°ë“¤ì˜ ìœ„ì¹˜ ì¡°ì •.

```
<android.support.design.widget.AppBarLayout
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:theme="@style/AppTheme.AppBarOverlay">

    <android.support.v7.widget.Toolbar
        android:id="@+id/toolbar"
        android:layout_width="match_parent"
        android:layout_height="?attr/actionBarSize"
        android:background="?attr/colorPrimary"
        app:popupTheme="@style/AppTheme.PopupOverlay" />
</android.support.design.widget.AppBarLayout>
```

AppBarLayoutì´ ìƒë‹¨ì˜ íƒ€ì´í‹€ ë¶€ë¶„ì´ ëœë‹¤.

ì•¡ì…˜ë°” ë¶€ë¶„ì—ì„œ ìš°ë¦¬ê°€ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì´ê³  ê·¸ ì•ˆì— ì•„ì´ì½˜ì´ ë“¤ì–´ê°€ëŠ” íŠ¹ì • ë¶€ë¶„ì¸ Toolbarê°€ ë“¤ì–´ê°€ ìˆë‹¤.

```
<android.support.design.widget.FloatingActionButton
    android:id="@+id/fab"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_gravity="bottom|end"
    android:layout_margin="@dimen/fab_margin"
    app:srcCompat="@android:drawable/ic_dialog_email" />
```

FloatingActionButtonì€ ìš°ë¦¬ê°€ ë¹¨ë¦¬ ë­”ê°€ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ í•  ë•Œ,

ìš°ì¸¡ í•˜ë‹¨ì— ì¡°ê·¸ë§£ê²Œ ì¶”ê°€ëœ ë²„íŠ¼ì„ ë§í•œë‹¤.

```
<include layout="@layout/content_main" />
```

CoordinatorLayoutì´ AppBarLayoutë¶€ë¶„ì„ íƒ€ì´í‹€ë¡œ ë§Œë“¤ì–´ì£¼ê³ ,

ê·¸ ì•„ë˜ìª½ì€ ì „ì²´í™”ë©´ì„ ê½‰ ì±„ìš°ë„ë¡ ê·¸ë ‡ê²Œ ë§Œë“¤ì–´ ì¤€ë‹¤.

**content_main.xml**

ìš°ë¦¬ê°€ í‰ì†Œ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì—ˆì„ ë•Œ activity_main.xmlì˜ ë‚´ìš©ì´ ë“¤ì–´ê°€ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

Contemt_main.xmlì´ í™”ë©´ ì „ì²´ë¥¼ ì±„ìš°ê³  ìˆëŠ” ê²ƒ.

ìƒë‹¨ì˜ ì•¡ì…˜ë°” ë¶€ë¶„ì€ app_bar_main.xmlì´ í•´ë‹¹.

___

activity_main.xml ì•ˆì—ì„œ ìš°ë¦¬ê°€ includeë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.

includeë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°©ë²•ìœ¼ë¡œ ì†ŒìŠ¤ì½”ë“œ ìˆ˜ì •í•´ë³´ì.

app_bar_main.xmlì˜ ë‚´ìš©ì„ ë³µì‚¬í•´ì„œ activity_main.xmlì˜ includeë¶€ë¶„ì— ë¶™ì—¬ë„£ê¸° í•´ ì£¼ê¸°.

ê·¸ ë‹¤ìŒ activity_main.xml ì•ˆì˜ coordinatorLayoutì•ˆì˜ include ë¶€ë¶„ì—,

Content_main.xml ë‚´ìš©ì„ ë³µì„œí•´ì„œ ë¶™ì—¬ë„£ê¸° í•´ ì£¼ê¸°.

ì´ë ‡ê²Œ ë§Œë“¤ë©´ activity_main.xmlì˜ ì½”ë“œê°€ ë³µì¡í•´ ë³´ì´ì§€ë§Œ xmlì˜ ìˆ˜ê°€ ì¤„ì–´ë“œëŠ” ì¥ì ì´ ìˆë‹¤.

**nav_header_main.xml**

ì‚¬ìš©ì í”„ë¡œí•„ì„ ì•„ì´ì½˜ ë˜ëŠ” ì‚¬ì§„ í˜•íƒœë¡œ ë³´ì—¬ì£¼ê³ ,

ì´ë¦„ê³¼ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•˜ê²Œ ëœë‹¤.

ê·¸ë¦¬ê³  ê·¸ ì•„ë˜ìª½ì€ ë©”ë‰´ë¥¼ ë³´ì—¬ì£¼ëŠ”ë°, ë©”ë‰´ë¥¼ ì„ íƒí–ˆì„ ë•Œ ë­”ê°€ ë™ì‘í•˜ë„ë¡ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

ê·¸ëŸ¬ë©´ ì•„ë˜ ìª½ ë©”ë‰´ëŠ” ì–´ë–»ê²Œ ì„¤ì •ì„ í• ê¹Œ?

res -> menu -> activity_main_drawer.xmlë¡œ ê°€ ë³´ì!

í•„ìš”ì— ë”°ë¼ì„œ ë‚´ìš©ì„ ìˆ˜ì •í•˜ë©´ ëœë‹¤.

í”„ë¡œí•„ ì‚¬ì§„ì„ ë³€ê²½í•˜ê³  ë‘¥ê·¼ ëª¨ì–‘ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë„ë¡ ìˆ˜ì •í•´ì£¼ì.

**activity_main_drawer.xml**

ì•„ë˜ì™€ ê°™ì´ ì¡°ê¸ˆ ë” ì‰½ê²Œ ì½”ë“œ ë‚´ìš© ìˆ˜ì •í•˜ê¸°.

```
<?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    tools:showIn="navigation_view">

    <group android:checkableBehavior="single">
        <item
            android:id="@+id/nav_0"
            android:icon="@drawable/ic_menu_camera"
            android:title="ì²«ë²ˆì§¸ í™”ë©´" />
        <item
            android:id="@+id/nav_1"
            android:icon="@drawable/ic_menu_gallery"
            android:title="ë‘ë²ˆì§¸ í™”ë©´" />
        <item
            android:id="@+id/nav_2"
            android:icon="@drawable/ic_menu_slideshow"
            android:title="ì„¸ë²ˆì§¸ í™”ë©´" />
    </group>
</menu>
```

ì´ì „ í”„ë¡œì íŠ¸ì—ì„œ ë§Œë“¤ì—ˆë˜ fragmentíŒŒì¼ 3ê°œì™€ ì´ì— í•´ë‹¹í•˜ëŠ” ìë°” ì†ŒìŠ¤íŒŒì¼ ê°€ì ¸ì˜¤ê¸°.

**MainActivity.java**

OnNavigationItemSelectedListenerë¼ê³  í•˜ëŠ” interfaceë¥¼ êµ¬í˜„í•˜ê³  ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

ê·¸ ë‹¤ìŒ onCreateì•ˆì— ë³´ë©´ Toolbarê°€ setSupportActionBar()ë¡œ ë‹¤ì‹œ ì„¤ì •í•´ ì¤€ ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.

```
navigationView.setNavigationItemSelectedListener(this);
```

navigationViewë¼ê³  í•´ì„œ ë°”ë¡œê°€ê¸° ë©”ë‰´ì—ì„œ í•˜ë‚˜ê°€ ì„ íƒì´ ë˜ë©´ ë¦¬ìŠ¤ë„ˆê°€ í˜¸ì¶œë˜ë„ë¡ ë§Œë“œëŠ” ê²ƒ.

onNavigationItemSelected() ë¶€ë¶„ì˜ ì†ŒìŠ¤ì½”ë“œ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •.

```
@Override
public boolean onNavigationItemSelected(MenuItem item) {
    int id = item.getItemId();

    if (id == R.id.nav_0) {
        Toast.makeText(this,"ì²«ë²ˆì§¸ ë©”ë‰´ ì„ íƒë¨", Toast.LENGTH_LONG).show();
    }
    else if (id == R.id.nav_1) {
        Toast.makeText(this,"ë‘ë²ˆì§¸ ë©”ë‰´ ì„ íƒë¨", Toast.LENGTH_LONG).show();
    }
    else if (id == R.id.nav_2) {
        Toast.makeText(this,"ì„¸ë²ˆì§¸ ë©”ë‰´ ì„ íƒë¨", Toast.LENGTH_LONG).show();
    }
    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);
    drawer.closeDrawer(GravityCompat.START);
    return true;
}
```

FrameLayoutì´ë¼ëŠ” ê²ƒ ì•ˆì—ë‹¤ê°€ í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ì¶”ê°€í•´ ì¤„ ìˆ˜ ìˆë‹¤. ê·¸ ì‘ì—…ì„ í•´ ë³´ì.

```
@Override
protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.activity_main);

    Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);
    setSupportActionBar(toolbar);

    DrawerLayout drawer = (DrawerLayout) findViewById(R.id.drawer_layout);
    ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(
            this, drawer, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close);
    drawer.addDrawerListener(toggle);
    toggle.syncState();

    NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);
    navigationView.setNavigationItemSelectedListener(this);

    fragment1 = new Fragment1();
    fragment2 = new Fragment2();
    fragment3 = new Fragment3();

    getSupportFragmentManager().beginTransaction().add(R.id.container, fragment1).commit();
}
```

ì²« ë²ˆì§¸ ë©”ë‰´ë¥¼ ëˆ„ë¥´ë©´ ì²« ë²ˆì§¸ í”„ë˜ê·¸ë¨¼íŠ¸, ë‘ ë²ˆì§¸ ë©”ë‰´ë¥¼ ëˆ„ë¥´ë©´ ë‘ ë²ˆì§¸ í”„ë˜ê·¸ë¨¼íŠ¸ê°€ ëœ¨ë„ë¡ ë§Œë“¤ì–´ ì£¼ë©´ ëœë‹¤.

ê°ê°ì˜ í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ë„ìš°ëŠ” ê²ƒì€ í”„ë˜ê·¸ë¨¼íŠ¸ ë§¤ë‹ˆì €ê°€ ë‹´ë‹¹ì„ í•œë‹¤.

ì—¬ê¸°ì„œ ë‚´ë¹„ê²Œì´ì…˜ë·°ë„ ì‚¬ì‹¤ ItemSelectedê°€ ì´ìª½ìœ¼ë¡œ ë„˜ì–´ì™€ì„œ ê·¸ë ‡ì§€,

ë‹¤ë¥¸ í”„ë˜ê·¸ë¨¼íŠ¸ì—ì„œ ì•¡í‹°ë¹„í‹°ë¥¼ í†µí•´ì„œ í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ë°”ê¾¸ì–´ ì£¼ëŠ” ê²½ìš°ê°€ ëœë‹¤.

ê·¸ë¦¬ê³  ë‹¤ì‹œ í”„ë˜ê·¸ë¨¼íŠ¸ ì•ˆì—ì„œ ë‹¤ë¥¸ í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ë„ì›Œì£¼ê³  ì‹¶ë‹¤ê³  ì•¡í‹°ë¹„í‹° ìª½ìœ¼ë¡œ ìš”ì²­í•˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤.

ì´ëŸ° ëª¨ë“  ê²½ìš°ë¥¼ ìƒê°í•´ ë³¼ ë•Œ,

methodë¥¼ í•˜ë‚˜ ë§Œë“¤ê³  ì—¬ê¸°ì„œ í”„ë˜ê·¸ë¨¼íŠ¸ë¥¼ ë³€ê²½í•˜ë„ë¡ ë§Œë“¤ì–´ ì¤„ ìˆ˜ê°€ ìˆë‹¤.

ì´ê²ƒì„ í•˜ê¸° ìœ„í•´ ì¸í„°í˜ì´ìŠ¤ë¥¼ í•˜ë‚˜ ì •ì˜í•´ ë³´ë„ë¡ í•˜ì!

```
public interface FragmentCallback {

    public void onFragmentSelected(int position, Bundle bundle);
}
```

MainActivity.javaë¡œ ê°€ì„œ ì¸í„°í˜ì´ìŠ¤ ì¶”ê°€í•´ì£¼ê¸°.

```
@Override
public void onFragmentSelected(int position, Bundle bundle) {
    Fragment curFragment = null;

    if(position == 0) {
        curFragment = fragment1;
        toolbar.setTitle("ì²«ë²ˆì§¸ í™”ë©´");
    }
    else if(position == 1) {
        curFragment = fragment2;
        toolbar.setTitle("ë‘ë²ˆì§¸ í™”ë©´");
    }
    else if(position == 2) {
        curFragment = fragment3;
        toolbar.setTitle("ì„¸ë²ˆì§¸ í™”ë©´");
    }
    getSupportFragmentManager().beginTransaction().replace(R.id.container,curFragment).commit();
}
```

onNavigationItemSelected()ë„ ìˆ˜ì •í•´ì£¼ê³  ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸í•˜ë©´ ë„ì•â€”â€”

í”„ë¡œì íŠ¸4 í•˜ê¸° ì „ì— ë‹¤ì‹œ í•œ ë²ˆ ë³µìŠµí•´ì•¼ê²Œë”°ğŸ˜…ğŸ˜…